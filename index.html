<html>

<head>
    <title>
        TEST
    </title>
    <script>
        function display_request() {
            let fname = document.getElementById("fname").value;
            let oname = document.getElementById("oname").value;
            let age = document.getElementById("age").value;
            let dob = document.getElementById("dob").value;
            let sex = document.querySelector('input[name="sex"]:checked').value;
            let m_stat = document.querySelector('input[name="mstatus"]:checked').value;
            let g_num = document.getElementById("gnum").value;

            let error = document.getElementById("error");
            error.style.visibility = "hidden";
            if (fname.length == 0) {
                error.style.visibility = "visible";

            }
            if (oname.length == 0) {
                error.style.visibility = "visible";

            }
            if (age.length == 0) {
                error.style.visibility = "visible";



                if (dob.length == 0) {
                    error.style.visibility = "visible"

                }
                if (sex.length == 0) {
                    error.style.visibility = "visible"

                }
                if (m_stat.length == 0) {
                    error.style.visibility = "visible"

                }
                if (g_num.length == 0) {
                    error.style.visibility = "visible"

                } else {
                    request();
                }
            }

            function request() {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        document.getElementById("display").innerHTML = this.responseText;
                        console.log("DONE");
                    }
                };
                xhttp.open("POST", `display.php?fname=${fname}&oname=${oname}&age=${age}&dob=${dob}&sex=${sex}&mstat=${m_stat}&gnum=${g_num}`, true);
                xhttp.send();
            }
        }
    </script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Electronic Form </h1>
    <div id="body">

        <div id="form">

            <form>
                <label>Last Name</label><br>
                <input type="text" name="fname" id="fname"><br><br>
                <label>Other Name</label><br>
                <input type="text" name="oname" id="oname"><br><br>
                <label>Age</label><br>
                <input type="text" name="age" id="age"><br><br>

                <label>Date of birth</label><br>
                <input type="date" name="dob" id="dob"><br><br>
                <label>Sex</label><br>
                <input type="radio" name="sex" value="male">
                <label>Male</label><br>
                <input type="radio" name="sex" value="female">
                <label>Female</label><br>
                <input type="radio" name="sex" value="other">
                <label>Others</label><br><br>
                <label>Ghana Card Number</label><br>
                <input type="text" name="gnum" id="gnum"><br><br>

                <label>Marital Status</label><br>
                <input type="radio" name="mstatus" value="Single">
                <label>Single</label><br>
                <input type="radio" name="mstatus" value="Divorce">
                <label>Divorce</label><br>
                <input type="radio" name="mstatus" value="Married">
                <label>Married</label><br><br>




                <p id="error">Fill all blank space</p>
            </form>
            <button onclick="display_request()">Submit</button>
        </div>
        <div id="display"></div>
    </div>
</body>

</html>